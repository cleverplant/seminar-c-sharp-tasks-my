creat cleverplant

Я надеюсь, что материал был полезен и Вы можете отблагодарить автора донатами.

**[Донаты.](https://yoomoney.ru/to/41001197327567)**

_______________________________________________________________________________________________________

**Я работал в редакторе VScode - не в IDE Visual Studio !Важно понимать разницу между редактором и средой программирования!** 

Все действия ниже актуальны для редактора. В интернете все авторы используют IDE Visual Studio 
и нифига нет примеров на редакторе VScode, потому что неудобно и тяжело использовать редактор 
для таких целей, несмотря на это, на этапе обучения, нужно использовать редактор для понимания 
того, как работает IDE.** 

**Затем, перейдя на IDE вы почувствуете благость Господню!**

________________________________________________________________________________________________________

*Подключаем библиотеку.* 

В этом проекте используется JSON ! 
JSON реализует возможность работы с Request - отправка запроса и Response - получение ответа на запрос.
Так мы получаем сведения от сервера погоды.

_________________________________________________________________________________________________________

Необходимо подключить библиотеку для работы с JSON: Newtonsof !
В VisualStudio это делается из прямо из самой IDE, но в VScode нужен бубен и терпение.

[_Библиотека Newtonsof :_](https://www.newtonsoft.com/json)

______________________________________________________________________________________________________________________

_вы можете увидеть ошибку в -> using Newtonsoft.Json.Linq;
для работы нужна библиотека Newtonsoft -> в powershell от имени администратора вводим -> 
Install-Package Newtonsoft.Json._ 

[в powershell получаем:](https://github.com/cleverplant/seminar-c-sharp-tasks-my/blob/main/%D0%91%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0%20%D0%BF%D0%B0%D1%80%D1%81%D0%B8%D0%BD%D0%B3%20%D0%BF%D0%BE%20API/Screenshot_1.png)

______________________________________________________________________________________________________________________

_В VScode нужно внести изменения. в файле .csproj -> это сделает автоматически расширение NuGet Gallery
-> в палитре команд выбираем NuGet Gallery 
-> далее выбираем Newtonsoft.Json -> затем находим папку с нашим пректом -> инсталируем бибку
-> в файле .csproj будут изменения -> появится строка:  
<ItemGroup>
    <PackageReference Include="Newtonsoft.Json" Version="13.0.1" />
</ItemGroup>_

[выбираем Newtonsoft.Json получаем:](https://github.com/cleverplant/seminar-c-sharp-tasks-my/blob/main/%D0%91%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0%20%D0%BF%D0%B0%D1%80%D1%81%D0%B8%D0%BD%D0%B3%20%D0%BF%D0%BE%20API/Screenshot_8.png)

______________________________________________________________________________________________________________________

_Ошибка в -> using Newtonsoft.Json.Linq; пропадет. Вожможно требуется перезапуск VScode._

--------------------------------------------------------------------------------------------------------

1. получить ключ на https://openweathermap.org/current#current_JSON
--------------------------------------------------------------------------------------------------------------------

2. из письма с ключом забираем тестовую строку:
 [api.openweathermap.org/data/2.5/weather?q=London,uk&APPID=0a9b051464990ec3facc0b5dba7c7c73](http://api.openweathermap.org/data/2.5/weather?q=London,uk&units=metric&APPID=0a9b051464990ec3facc0b5dba7c7c73)

 и через программу FIDDLER делаем запрос: вкладка composer -> Execute -> запрос выполнен


-------------------------------------------------------------------

3. смотрим результат запроса: во вкаладке inspectors -> что было отправлено и получено. 
в верхней части запрос - в нижней ответ от вебпортала. 
скопируем json-строку на вкаладке raw: 
{"coord":{"lon":-0.1257,"lat":51.5085},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"base":"stations","main":{"temp":289.87,"feels_like":289.66,"temp_min":289.18,"temp_max":290.37,"pressure":1011,"humidity":79},"visibility":10000,"wind":{"speed":6.69,"deg":220},"clouds":{"all":75},"dt":1664937600,"sys":{"type":2,"id":2075535,"country":"GB","sunrise":1664950036,"sunset":1664991026},"timezone":3600,"id":2643743,"name":"London","cod":200}
----------------------------------------------------------------------------------------------------------------------
4. можем изучить эту строку в просмоторщике формата json:  
https://jsoneditoronline.org/
файл MyJson.json . Можно скопировать эту строку в файл .json для последующей работы в нашем проекте 
----------------------------------------------------------------------------------------------------------------------
5. кодим и получаем погоду...просто устал писать... 
возможно позже опишу, что происходит в процессе отправки и получения запроса. 
Нет одного автора, который достоин внимания, а сформулировать, как в пректе работает HttpWebResponse и HttpWebResponse и написать от себя, нужна куча времени, поэтому чуть позже обязательно заполню этот фрейм!  

-----------------------------------------------------------------------------------------------------------------------

Для чего это нужно знать о JSON ? 
Ниже пока только то, что я смог понять за пару дней...
____________________________________________________________________________________________________________________________________________________________
Материалы и средства используемые в проекте:

1. [Библиотека для работы с JSON](https://www.newtonsoft.com/json)

[в powershell получаем:](https://github.com/cleverplant/seminar-c-sharp-tasks-my/blob/main/%D0%91%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0%20%D0%BF%D0%B0%D1%80%D1%81%D0%B8%D0%BD%D0%B3%20%D0%BF%D0%BE%20API/Screenshot_1.png)


_у меня не получилось обойтись расширением NuGet Gallery и я устанавливал бибку через:  
в powershell от имени администратора вводим -> Install-Package Newtonsoft.Json_
____________________________________________________________________________________________________________________________________________________________

2. [Расширение NuGet Gallery в VScode для используемой библиотеки](https://marketplace.visualstudio.com/items?itemName=patcx.vscode-nuget-gallery)

_собственно по задумке оно должно инсталировать бибку в проект, но см.п.1_

[В нашем VSCode выбираем Newtonsoft.Json получаем:](https://github.com/cleverplant/seminar-c-sharp-tasks-my/blob/main/%D0%91%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0%20%D0%BF%D0%B0%D1%80%D1%81%D0%B8%D0%BD%D0%B3%20%D0%BF%D0%BE%20API/Screenshot_8.png)


__________________________________________________________________________________________________________________________________________________________

3. [Полный курс по JSON для начинающих](https://www.youtube.com/watch?v=T-xXWXeqc2M&t=40s)

_приходит понимание, что за фигню мы видим в ответе на запрос. как и какие способы обращения к данным в коллекции(массиве) 
JSON можно использовать_ 

_Дополнительно :_

4. [REST API - что это? Создаем API с нуля на Express](https://www.youtube.com/watch?v=lzQIhjElV_g) 

_не использовался в проекте, но полезно_

________________________________________________________________________________________________________________________________________________________

5. [Редактор JSON](https://jsoneditoronline.org/)

_можно легко из текста перевести в формат файла JSON . использовался в проекте для анализа получения прнимаемых данных_
________________________________________________________________________________________________________________________________________________________

6. [Валидатор JSON](https://jsonschemalint.com/)

 _не обязательно_
_очень интересная и полезная вещь. проверяет ограничения, свойства и нарушения в коде Json . О нем в видео о JSON есть_
_не использовался в проекте, но полезно_
________________________________________________________________________________________________________________________________________________________

7. [Проект SWAGGER](https://swagger.io/)

_очень полезный инструмент. Разработка API для каждого. 
Упростите разработку API для пользователей, команд и предприятий с помощью 
открытого и профессионального набора инструментов Swagger. 
Узнайте, как Swagger может помочь вам разрабатывать и документировать ваши API в любом масштабе. _
_не использовался в проекте, но полезно_

_в проекте не учавствовал_
_____________________________________________________________________________________________________________________________________________________


8. [Программа Fiddler](https://www.telerik.com/fiddler)

_широко использовалась в проекте для отправки, проверки и аналика запросов и ответов. очень полезная вещь_

  [возможности Fiddler](https://habr.com/ru/post/554562/)

_______________________________________________________________________________________________________________________________________________________

9. [Request и Response](https://www.youtube.com/watch?v=nJvch8qzkXk)
_в проекте этот ролик низкого качества не принимал участия, но хоть дает представление что такое запросы и ответы_
_вообще это самая важная часть инфомации и я собирал ее из разных источников, но определенного автора я не могу представить
поэтому пользуйтесь гуголом пока, а если найду автора достойного внимания, то скину ссыль сюда_

_____________________________________________________________________________________________________________________________________________________

*_Вообще сущесвуют два вида парсинга: по API и без API._ 

_По API более цивилизованный способ, потому что если источник(сайт например)
имеет API и делится им, то это значит, что автор готов делиться информацией, а иначе парсить сайт значит иметь возможность
тырить информацию и это воровство! за это могут наказать. Но это возможно._*

_____________________________________________________________________________________________________________________________________________________












